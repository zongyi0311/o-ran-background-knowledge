# 7.1 Coordinate system
## Local and Global Coordinate Systemsï¼ˆå±€éƒ¨èˆ‡å…¨çƒåº§æ¨™ç³»çµ±ï¼‰

### GCSï¼ˆGlobal Coordinate Systemï¼‰
- ç‚ºæ•´é«”ç³»çµ±ï¼ˆå«å¤šå€‹ BS èˆ‡ UTï¼‰æ‰€å®šç¾©çš„å…¨åŸŸåƒè€ƒåº§æ¨™ç³»ã€‚
- æ‰€æœ‰ BS/UT çš„ä½ç½®ã€è§’åº¦ã€é€šé“åƒæ•¸çš†å®šç¾©æ–¼ GCSã€‚

---
### LCSï¼ˆLocal Coordinate Systemï¼‰
- ç‚ºå–®ä¸€ **å¤©ç·šé™£åˆ—**ï¼ˆBS æˆ– UTï¼‰å®šç¾©çš„**å±€éƒ¨åº§æ¨™ç³»**ã€‚
- å¤©ç·šçš„**é å ´è¼»å°„æ¨¡å¼ï¼ˆPatternï¼‰** èˆ‡ **æ¥µåŒ–ï¼ˆPolarization** åœ¨ LCS ä¸­å®šç¾©ã€‚
- é è¨­å¤©ç·šå ´å‹è³‡è¨Šæ˜¯**å·²çŸ¥**ä¸”å›ºå®šæ–¼ LCSã€‚

---
### LCS èˆ‡ GCS çš„å°æ‡‰èˆ‡è½‰æ›
- å¤©ç·šé™£åˆ—çš„ä½ç½®ç”± GCS â†’ LCS çš„å¹³ç§»ï¼ˆTranslationï¼‰æè¿°ã€‚
- é™£åˆ—æ–¹å‘çš„è®ŠåŒ–ç”± GCS â†’ LCS çš„ä¸€ç³»åˆ—**æ—‹è½‰ï¼ˆRotationï¼‰**æ±ºå®šã€‚

- å›  GCS èˆ‡ LCS æ–¹å‘é€šå¸¸ä¸åŒï¼Œéœ€é€²è¡Œ**å‘é‡å ´çš„åº§æ¨™è½‰æ›**ã€‚
- æ­¤è½‰æ›åªä¾è³´å¤©ç·šé™£åˆ—çš„æ–¹å‘èˆ‡æ—‹è½‰è¨­å®šã€‚

## Transformation from a LCS to a GCS

### åº§æ¨™å®šç¾©
- **GCSï¼ˆGlobal Coordinate Systemï¼‰**
  - åº§æ¨™å‘é‡ï¼š(x, y, z, Î¸ ,Ï† )
  - å–®ä½å‘é‡ï¼š( $\hat{Î¸}$ , $\hat{Ï†}$ )

- **LCSï¼ˆLocal Coordinate Systemï¼‰**
  - åº§æ¨™å‘é‡ï¼š\( (x', y', z', Î¸', Ï†') \)
  - å–®ä½å‘é‡ï¼š\( $\hat{Î¸}$', $\hat{Ï†}$' \)

### 3D æ—‹è½‰æè¿°
- å°‡ LCS è½‰æ›ç‚º GCS çš„æ—‹è½‰é—œä¿‚ç”±ä¸‰å€‹è§’åº¦æ§åˆ¶ï¼š

  - **Î±ï¼ˆalphaï¼‰**ï¼šæ–¹ä½è§’ï¼ˆBearing angleï¼‰
  - **Î²ï¼ˆbetaï¼‰**ï¼šä¸‹å‚¾è§’ï¼ˆDowntilt angleï¼‰
  - **Î³ï¼ˆgammaï¼‰**ï¼šæ–œå‚¾è§’ï¼ˆSlant angleï¼‰
  æè¿°äº†é™£åˆ—å¤©ç·šç›¸å°æ–¼ GCS çš„å®Œæ•´æ–¹å‘è¨­å®š

- å¤©ç·šçš„å‘é‡å ´ï¼ˆå¦‚å ´å‹å¢ç›Šæ–¹å‘ï¼‰**å®šç¾©åœ¨ LCS**
- ç‚ºäº†èˆ‡é€šé“å»ºæ¨¡å°æ¥ï¼Œéœ€å°‡å…¶**è½‰æ›ç‚º GCS ä¸­çš„æ–¹å‘å‘é‡**
- LCS â†’ GCS çš„è®Šæ›**åªä¾è³´æ—‹è½‰è§’åº¦ Î±, Î², Î³**ï¼Œèˆ‡ä½ç½®ç„¡é—œ
- ä»»æ„å¤©ç·šçš„æ–¹å‘è¨­å®šéƒ½å¯ç”±æ­¤ä¸‰è§’åº¦çµ„åˆå®Œæˆ

![image](https://github.com/user-attachments/assets/bb13a3de-ce81-44db-a1d5-4f878607b324)

### å¤©ç·šå ´å‹åœ¨ GCS èˆ‡ LCS çš„è½‰æ›
è‹¥å¤©ç·šå…ƒç´ çš„å ´å‹åœ¨ LCS ä¸­å®šç¾©ç‚º $A'(\theta', \phi')$ï¼Œå‰‡å…¶åœ¨ GCS ä¸­çš„å°æ‡‰ç‚ºï¼š

$A(\theta, \phi) = A'(\theta', \phi')$â€ƒâ€ƒ(7.1-1)

å…¶ä¸­ $\theta', \phi'$ æ˜¯é€é GCS â†’ LCS çš„æ–¹å‘è½‰æ›å…¬å¼

LCS åˆ° GCS çš„è½‰æ›å¯é€éä¸‰å€‹è§’åº¦å®Œæˆï¼š

1. **Î±ï¼ˆbearing angleï¼‰**ï¼šç¹ z è»¸æ—‹è½‰ï¼Œæ±ºå®šå¤©ç·šæœå‘
2. **Î²ï¼ˆdowntilt angleï¼‰**ï¼šç¹ç¬¬ä¸€æ¬¡æ—‹è½‰å¾Œçš„ y è»¸ï¼ˆè¨˜ä½œ $\dot{y}$ï¼‰æ—‹è½‰ï¼Œæ±ºå®šä¸‹å‚¾è§’
3. **Î³ï¼ˆslant angleï¼‰**ï¼šç¹ç¬¬äºŒæ¬¡æ—‹è½‰å¾Œçš„ x è»¸ï¼ˆè¨˜ä½œ $\ddot{x}$ï¼‰æ—‹è½‰ï¼Œæ±ºå®šæ¥µåŒ–å‚¾æ–œè§’åº¦

ä¸‰æ¬¡æ—‹è½‰å¾Œçš„è»¸æ–¹å‘åˆ†åˆ¥ç‚º $\dddot{x}, \dddot{y}, \dddot{z}$ï¼Œäº¦å¯è¨˜ç‚º $x', y', z'$ï¼Œä»£è¡¨ LCSã€‚

## GCS â†’ LCS æ—‹è½‰çŸ©é™£å®šç¾©
ç‚ºäº†å°‡ GCS ä¸­çš„é» $(x, y, z)$ è½‰æ›è‡³ LCS ä¸­çš„ $(x', y', z')$ï¼Œéœ€å»ºç«‹ä¸‰ç¶­æ—‹è½‰çŸ©é™£ $R$ã€‚

é€™å€‹æ—‹è½‰çŸ©é™£æ˜¯ä¸‰å€‹åŸºæœ¬æ—‹è½‰çš„ä¹˜ç©ï¼Œæ—‹è½‰é †åºç‚ºï¼š

1. æ²¿ $z$ è»¸æ—‹è½‰è§’åº¦ $\alpha$
2. æ²¿ $\dot{y}$ è»¸æ—‹è½‰è§’åº¦ $\beta$
3. æ²¿ $\ddot{x}$ è»¸æ—‹è½‰è§’åº¦ $\gamma$

æ—‹è½‰çŸ©é™£ç‚ºï¼š

![image](https://github.com/user-attachments/assets/c3a8f19b-32b3-4570-a9bb-749cd03d68e1)

åå‘è®Šæ›ï¼šæ—‹è½‰çŸ©é™£çš„åçŸ©é™£:
![image](https://github.com/user-attachments/assets/1dd892ad-8a36-47d8-b9fd-f058b6205b6a)

æ­£å‘æ—‹è½‰çŸ©é™£å±•é–‹:
![image](https://github.com/user-attachments/assets/529e91dd-4174-464f-8148-f023de7a541c)

åå‘æ—‹è½‰çŸ©é™£å±•é–‹:
![image](https://github.com/user-attachments/assets/18b3da47-6e7d-4eda-8db3-1ab42cc7c050)

Î¸:å¤©é ‚è§’ Ï†:æ–¹ä½è§’

å°æ‡‰çš„ Cartesian ç¬›å¡å…’åº§æ¨™ç‚ºï¼š
![image](https://github.com/user-attachments/assets/8141d6ee-a6fb-463c-ab1b-2be098555dfc)

çµ¦å®šä¸€å€‹é»åœ¨ GCS ä¸­çš„æ–¹å‘ (Î¸, Ï†)ï¼Œè‹¥å·²çŸ¥ LCS èˆ‡ GCS ä¹‹é–“çš„æ—‹è½‰è§’åº¦ Î±ã€Î²ã€Î³ï¼Œå‰‡å¯æ¨å°è©²é»åœ¨ LCS ä¸­çš„è§’åº¦ (Î¸', Ï†')ï¼š

Î¸'ï¼ˆlocal zenith angleï¼‰ æ˜¯æ ¹æ“š GCS ä¸‹å–®ä½å‘é‡ç¶“é Râ»Â¹ æ—‹è½‰å¾Œï¼Œèˆ‡ z è»¸å¤¾è§’çš„åé¤˜å¼¦å€¼è¨ˆç®—

Ï†'ï¼ˆlocal azimuth angleï¼‰ æ˜¯æ—‹è½‰å¾Œå–®ä½å‘é‡åœ¨ x-y å¹³é¢çš„æŠ•å½±æ‰€å°æ‡‰çš„ç›¸ä½è§’

![image](https://github.com/user-attachments/assets/1ac62ce9-1e0b-472f-a689-8264a78c0f04)

ç•¶æˆ‘å€‘è¦å°‡ GCS çš„å ´ï¼ˆä¾‹å¦‚é›»å ´æˆ–ç£å ´çš„åˆ†é‡ï¼‰è½‰æ›ç‚º LCS çš„è¡¨ç¤ºæ–¹å¼ï¼Œæˆ‘å€‘ä½¿ç”¨ä¸€å€‹ 2x2 çš„è®Šæ›çŸ©é™£ï¼Œè©²çŸ©é™£ç”±ä»¥ä¸‹çµ„æˆï¼š
-  ç¬¬ä¸€åˆ—ï¼šGCS çš„ Î¸ æ–¹å‘å–®ä½å‘é‡æŠ•å½±åˆ° LCS çš„ Î¸' èˆ‡ Ï†' æ–¹å‘ã€‚
-  ç¬¬äºŒåˆ—ï¼šGCS çš„ Ï† æ–¹å‘å–®ä½å‘é‡æŠ•å½±åˆ° LCS çš„ Î¸' èˆ‡ Ï†' æ–¹å‘ã€‚
![image](https://github.com/user-attachments/assets/d5343d39-9451-4ca2-a2bb-2c80831d109a)

---
![image](https://github.com/user-attachments/assets/9a27399f-6e47-4112-b63e-fa8736844cb0)
-  é€™å€‹æ—‹è½‰çŸ©é™£ï¼ˆRï¼‰ å°‡ LCS ä¸­çš„å–®ä½å‘é‡è½‰æ›ç‚º GCS åƒè€ƒç³»ä¸­è¡¨ç¤ºã€‚

-  åœ¨è¨ˆç®—å¤©ç·šæ¥µåŒ–æ–¹å‘è®Šæ›ã€å ´åˆ†é‡è½‰æ›æ™‚ï¼Œå¿…é ˆè€ƒæ…®é€™æ¨£çš„æ—‹è½‰é—œä¿‚ï¼Œå¦å‰‡æœƒå°è‡´æ–¹å‘èˆ‡æ¥µåŒ–ä¸ä¸€è‡´ã€‚

---
ç‚ºäº†æè¿° GCS å’Œ LCS é–“çš„å ´æ–¹å‘è®Šæ›ï¼Œå®šç¾©äº†ä¸€å€‹æ—‹è½‰è§’ Ïˆï¼Œä»£è¡¨ GCS èˆ‡ LCS çš„çƒé¢å–®ä½å‘é‡é–“çš„è§’åº¦å·®ç•°ã€‚

**å–®ä½å‘é‡æ—‹è½‰é—œä¿‚çš„ç²¾ç°¡å…¬å¼å¦‚ä¸‹æ‰€ç¤º**
![image](https://github.com/user-attachments/assets/dd8a4f84-176e-4203-8710-f61cfd11f7be)
å¸¶å…¥(7.1-9)å¾Œï¼š
![image](https://github.com/user-attachments/assets/71dc5b31-0a69-4f62-ac0b-9e3303db064e)

---

è§’åº¦ Ïˆ å¯é€éä¸‹åˆ—å…¬å¼è¨ˆç®—ï¼š
![image](https://github.com/user-attachments/assets/a73fbffb-53bf-433c-bda3-ef95cedac0f8)

é€™è£¡æ˜¯ GCS ä¸­ Î¸Ì‚ å’Œ Ï†Ì‚ çš„è¡¨ç¤ºå¼:
![image](https://github.com/user-attachments/assets/9d8653c3-5859-4663-91ee-e7cacb884cc2)

é€™äº›å–®ä½å‘é‡å¯ä»¥ç”¨ä¾†é€²è¡Œé»ç©è¨ˆç®—ï¼ˆdot productï¼‰ï¼Œç”¨æ–¼ Ïˆ çš„æ¨å°æˆ–å ´æ–¹å‘çš„è½‰æ›

---
**å°çµ**
-  Ïˆ è§’æ˜¯ GCS å’Œ LCS å–®ä½å‘é‡å·®ç•°çš„é—œéµè§’åº¦ã€‚
-  å¯ç”¨å®ƒä¾†æ—‹è½‰å ´å‘é‡ï¼Œå¾è€Œå°‡ LCS ä¸­çš„å ´è¡¨ç¤ºè½‰æ›åˆ° GCSã€‚
-  Î¸Ì‚ã€Ï†Ì‚ çš„ç›´è§’åº§æ¨™å®šç¾©
-  æ—‹è½‰çŸ©é™£ R çš„ä½œç”¨
-  Ïˆ çš„å®šç¾©èˆ‡ä½œç”¨åœ¨å ´å‘é‡è®Šæ›ä¸­çš„è§’è‰²

![image](https://github.com/user-attachments/assets/b98bd9ad-b88e-4b58-93d2-e5029c72e366)

## Transformation from an LCS to a GCS for downtilt angle only
ğŸ”¹ å‰ææ¢ä»¶
-  æ­¤è½‰æ›å‡è¨­ï¼š
  -  æ–¹ä½è§’ Î± = 0ï¼ˆç„¡æ°´å¹³æ—‹è½‰ï¼‰
  -  å‚¾ä»°è§’ Î² â‰  0ï¼ˆæœ‰å‚ç›´ downtiltï¼‰
  -  åè½‰è§’ Î³ = 0ï¼ˆç„¡æ–œè§’ï¼‰
-  æ›å¥è©±èªªï¼š
  -  LCS çš„ y'-è»¸ å¹³è¡Œæ–¼ GCS çš„ y-è»¸ã€‚
  -  LCS çš„ x'-è»¸ èˆ‡å¤©ç·šæ³¢æŸæŒ‡å‘æ–¹å‘ï¼ˆsector pointing directionï¼‰ä¸€è‡´ã€‚
  -  Downtilt æ˜¯ç¹ GCS çš„ y è»¸æ—‹è½‰å½¢æˆçš„ã€‚

![image](https://github.com/user-attachments/assets/f46f3cfc-f6ce-4d94-a827-d13556fafeaa)

**å‘é‡è®Šæ›é‡é»**
-  åŸºåº•æ—‹è½‰é—œä¿‚ï¼š
  -  ç•¶ LCS ç¹ y è»¸æ—‹è½‰ Î² å¾Œï¼ŒåŸæœ¬ GCS çš„åŸºåº•å‘é‡ Î¸Ì‚ã€Ï†Ì‚ èˆ‡ LCS ä¸­çš„åŸºåº• Î¸Ì‚â€²ã€Ï†Ì‚â€² ä¹‹é–“ç”¢ç”Ÿæ—‹è½‰
  -  é€™ç¨®æ—‹è½‰æœƒå½±éŸ¿åæ¥µåŒ–å ´å‹çš„å°æ‡‰æ–¹å‘ï¼Œä¸¦ç”± Ïˆï¼ˆæ–œè§’ï¼‰è¡¨ç¤º

**Ïˆ çš„å¹¾ä½•æ„ç¾©**
-  åœ¨å³å´å°åœ–ä¸­ï¼š
  -  Ïˆ ç‚º GCS èˆ‡ LCS çƒé¢åŸºåº•å‘é‡ä¹‹é–“çš„æ—‹è½‰è§’å·®
  -  å®ƒå®šç¾©äº†ï¼šåœ¨åŒä¸€æ–¹å‘ nÌ‚ ä¸‹ï¼ŒGCS çš„çƒé¢åŸºåº• (Î¸Ì‚, Ï†Ì‚) å’Œ LCS çš„çƒé¢åŸºåº• (Î¸Ì‚â€², Ï†Ì‚â€²) çš„å¤¾è§’

# 7.2 Scenarios 

![image](https://github.com/user-attachments/assets/c455497e-d5bb-44d5-b606-3f926c9b20a3)

- 	UMi - è¡—é“å³½è°· (Street Canyon)
- 	UMa - åŸå¸‚å®å°å€ (Urban Macro)

![image](https://github.com/user-attachments/assets/7a9f9331-aab2-4be5-98c7-cd53994e4be1)
**å‚™è¨»èªªæ˜**ï¼š
-  LOS æ©Ÿç‡å·®ç•° æ˜¯ open office èˆ‡ mixed office çš„å”¯ä¸€å€åˆ¥ã€‚
-  Open office æ¨¡å‹é è¨­å¤§éƒ¨åˆ†æƒ…æ³æ˜¯é–‹æ”¾ç„¡é®è”½ï¼Œå› æ­¤ LOS æ©Ÿç‡è¼ƒé«˜ã€‚
-  Mixed office æ¨¡å‹å‰‡åŒ…å«ç‰†å£èˆ‡éš”é–“ï¼Œä½¿ LOS æ©Ÿç‡é™ä½ã€‚

![image](https://github.com/user-attachments/assets/82638bee-9239-42d2-8d13-dbe584e6d5c6)

**å ´æ™¯ç°¡è¿°**
-  RMa ä¸»è¦æ¨¡æ“¬ å¤§ç¯„åœã€é€£çºŒæ€§è¦†è“‹ çš„é„‰æ‘å ´æ™¯ã€‚
-  é©ç”¨æ–¼ é«˜é€Ÿç§»å‹•è»Šè¼› çš„ç„¡ç·šé€šè¨Šã€‚
-  é€šé“å—é™æ–¼ ç†±å™ªè²èˆ‡å¹²æ“¾ï¼ˆnoise-limited/interference-limitedï¼‰ã€‚
-  æ¡ç”¨ macro TRPs ä½œç‚ºåŸºåœ°å°éƒ¨ç½²å½¢å¼ã€‚

![image](https://github.com/user-attachments/assets/22a48b36-366e-48db-a56d-b994ad00c8a8)

| åˆ†é¡     | ç¸®å¯«                      | èªªæ˜            |
| ------ | ----------------------- | ------------- |
| InF-SL | Sparse clutter, Low BS  | é›œç‰©å°‘ã€åŸºåœ°å°ä½æ–¼é›œç‰©é«˜åº¦ |
| InF-DL | Dense clutter, Low BS   | é›œç‰©å¤šã€åŸºåœ°å°ä½æ–¼é›œç‰©é«˜åº¦ |
| InF-SH | Sparse clutter, High BS | é›œç‰©å°‘ã€åŸºåœ°å°é«˜æ–¼é›œç‰©   |
| InF-DH | Dense clutter, High BS  | é›œç‰©å¤šã€åŸºåœ°å°é«˜æ–¼é›œç‰©   |
| InF-HH | High Tx, High Rx        | ç™¼é€èˆ‡æ¥æ”¶ç«¯éƒ½é«˜æ–¼é›œç‰©   |

| åƒæ•¸                 | å€¼                     |
| ------------------ | --------------------- |
| **Room size**      | é•·æ–¹å½¢ï¼Œé¢ç© 20â€“160,000 mÂ²  |
| **Ceiling height** | 5â€“25 mï¼ˆä½ BS ç‚º 5â€“15 mï¼‰ |
| **æœ‰æ•ˆé›œç‰©é«˜åº¦ $h_c$**   | 0â€“10 mï¼Œä¸”å°æ–¼å¤©èŠ±æ¿é«˜åº¦       |

| åƒæ•¸                     | InF-SL / SH    | InF-DL / DH  | InF-HH |
| ---------------------- | -------------- | ------------ | ------ |
| **ç‰†èˆ‡å¤©èŠ±æ¿**              | æ··å‡åœŸæˆ–é‡‘å±¬ç‰†ï¼Œé‡‘å±¬å¡—å±¤çª—æˆ¶ |              |        |
| **é›œç‰©é¡å‹**               | å¤§å‹è¦å¾‹é‡‘å±¬æ©Ÿæ¢°æˆ–å€‰å„²    | ä¸­å°å‹ã€ä¸è¦å‰‡æ©Ÿæ¢°èˆ‡ç”¢ç·š | ä»»æ„     |
| **é›œç‰©å¤§å° $d_{clutter}$** | 10 m           | 2 m          | ä»»æ„     |
| **é›œç‰©å¯†åº¦ $r$**           | ä½å¯†åº¦ï¼ˆ< 40%ï¼‰     | é«˜å¯†åº¦ï¼ˆâ‰¥ 40%ï¼‰   | ä»»æ„     |

| åƒæ•¸                 | InF-SL / DL   | InF-SH / DH   | InF-HH     |
| ------------------ | ------------- | ------------- | ---------- |
| **BS é«˜åº¦ $h_{BS}$** | é›œç‰©ä¸­ï¼ˆä½æ–¼é›œç‰©é«˜åº¦ï¼‰   | é«˜æ–¼é›œç‰©          | é«˜æ–¼é›œç‰©       |
| **LOS/NLOS**       | LOS èˆ‡ NLOS æ··åˆ | LOS èˆ‡ NLOS æ··åˆ |  100% LOS |
| **UT é«˜åº¦ $h_{UT}$** | é›œç‰©ä¸­           | é«˜æ–¼é›œç‰©          | é«˜æ–¼é›œç‰©       |


# 7.5 Fast fading model 

æ ¹æ“š 3GPP TR 38.901 V17.0.0ï¼Œç„¡ç·šé€šé“å¯¦ç¾æ˜¯é€éè¡¨æ ¼ 7.5-1 æ‰€åˆ—çš„åƒæ•¸ç”¢ç”Ÿï¼Œä¸¦ä¾æ“šåœ– 7.5-1 æ‰€ç¤ºçš„æ­¥é©Ÿæµç¨‹å»ºç«‹ã€‚

- å¹¾ä½•æè¿°æ¶µè“‹äº†å¾**æœ€å¾Œä¸€æ¬¡æ•£å°„é»**çš„å…¥å°„è§’ï¼ˆarrival anglesï¼‰ä»¥åŠ**ç¬¬ä¸€æ¬¡æ•£å°„é»**çš„å‡ºå°„è§’ï¼ˆdeparture anglesï¼‰ã€‚
- å‚³æ’­è·¯å¾‘ä¸­**é¦–æ¬¡èˆ‡æœ€å¾Œä¸€æ¬¡çš„äº¤äº’ä¹‹é–“çš„å‚³æ’­**ä¸¦æœªå®šç¾©ï¼Œå› æ­¤é€™ç¨®æ¨¡å‹èƒ½å¤ æ¨¡æ“¬**å¤šé‡æ•£å°„äº’å‹•**ã€‚
- é€™ä¹Ÿä»£è¡¨ï¼Œä¾‹å¦‚ï¼š**å¤šå¾‘å»¶é²**ç„¡æ³•é€éå¹¾ä½•æ–¹å¼å–®ç¨æ±ºå®šã€‚
- å‡è¨­ç‚ºä¸‹è¡Œï¼ˆdownlinkï¼‰æ¨¡æ“¬ï¼Œè‹¥ç‚ºä¸Šè¡Œï¼ˆuplinkï¼‰éœ€å°‡åˆ°é”èˆ‡é›¢é–‹è§’åº¦çš„åƒæ•¸å°èª¿ã€‚
---
![image](https://github.com/user-attachments/assets/9e86cfd9-c5dc-4169-98c9-e49b3fc4750a)

**åœ– 7.5-1ï¼šé€šé“ä¿‚æ•¸ç”Ÿæˆæµç¨‹ï¼ˆChannel Coefficient Generation Procedureï¼‰**

---
**ä¸€ã€General Parametersï¼ˆå¤§å°ºåº¦åƒæ•¸ï¼‰**

1. **Set scenario, network layout and antenna parameters**  
   è¨­å®šæ¨¡æ“¬å ´æ™¯ã€ç¶²è·¯æ‹“æ’²èˆ‡å¤©ç·šåƒæ•¸ã€‚

2. **Assign propagation condition (NLOS / LOS)**  
   æŒ‡å®šå‚³æ’­æ¢ä»¶ï¼šè¦–è·ï¼ˆLOSï¼‰æˆ–éè¦–è·ï¼ˆNLOSï¼‰ã€‚

3. **Calculate pathloss**  
   è¨ˆç®—è·¯å¾‘æè€—ï¼ˆPathlossï¼‰ã€‚

4. **Generate correlated large scale parameters**  
   ç”Ÿæˆå¤§å°ºåº¦åƒæ•¸ï¼Œä¸¦å»ºç«‹å…¶ç›¸é—œæ€§ï¼š  
   - DSï¼ˆDelay Spreadï¼‰  
   - ASï¼ˆAngular Spreadï¼‰  
   - SFï¼ˆShadow Fadingï¼‰  
   - Kï¼ˆRicean K-factorï¼‰

---

**äºŒã€Small Scale Parametersï¼ˆå°å°ºåº¦åƒæ•¸ï¼‰**

5. **Generate delays**  
   ç”¢ç”Ÿç¾¤çµ„ï¼ˆClusterï¼‰çš„å»¶é²ï¼ˆDelaysï¼‰ã€‚

6. **Generate cluster powers**  
   ç‚ºæ¯å€‹ Cluster åˆ†é…åŠŸç‡ã€‚

7. **Generate arrival & departure angles**  
   è¨ˆç®—åˆ°é”è§’ï¼ˆAOAï¼‰èˆ‡é›¢é–‹è§’ï¼ˆAODï¼‰ã€‚

8. **Perform random coupling of rays**  
   åŸ·è¡Œå¤šå¾‘å°„ç·šï¼ˆRaysï¼‰çš„éš¨æ©Ÿè€¦åˆã€‚

9. **Generate XPRs**  
   ç‚ºæ¯å€‹è·¯å¾‘åˆ†é…äº¤å‰æ¥µåŒ–æ¯”ï¼ˆCross-Polarization Ratio, XPRï¼‰ã€‚

---

**ä¸‰ã€Coefficient Generationï¼ˆé€šé“ä¿‚æ•¸ç”¢ç”Ÿï¼‰**

10. **Draw random initial phases**  
    ç‚ºæ¯å€‹å¤šå¾‘åˆ†é‡ç”Ÿæˆåˆå§‹éš¨æ©Ÿç›¸ä½ã€‚

11. **Generate channel coefficient**  
    åŸºæ–¼å‰è¿°åƒæ•¸è¨ˆç®—æ¯å€‹æ™‚é–“é»çš„é€šé“ä¿‚æ•¸ã€‚

12. **Apply pathloss and shadowing**  
    å°‡è·¯å¾‘æè€—èˆ‡é®è”½æ•ˆæ‡‰æ‡‰ç”¨æ–¼é€šé“ä¿‚æ•¸ã€‚

---
**æœ¬æµç¨‹ç‚ºç”¢ç”Ÿæ™‚é–“ä¸è®Šï¼ˆquasi-staticï¼‰æˆ–ç¬æ™‚é€šé“ä¿‚æ•¸çš„æ¨™æº–ç¨‹åºã€‚å¯æ‡‰ç”¨æ–¼ä½è¤‡é›œåº¦ã€é©—è­‰æ€§æ¨¡æ“¬ï¼Œæˆ–ä½œç‚ºé«˜éšé€šé“æ¨¡å‹çš„åŸºç¤ã€‚**

![image](https://github.com/user-attachments/assets/df43ad23-4610-4c95-bb0a-6168563c9878)

# åœ– 7.5-2ï¼šå…¨çƒåº§æ¨™ç³»çµ±èˆ‡çƒé¢è§’åº¦å®šç¾©ï¼ˆGlobal Coordinate Systemï¼‰

æ­¤åœ–å®šç¾©äº† 3GPP å¿«é€Ÿè¡°è½æ¨¡å‹ä¸­ä½¿ç”¨çš„å…¨çƒä¸‰ç¶­åº§æ¨™ç³»çµ±ï¼Œä¸¦èªªæ˜äº†çƒé¢åº§æ¨™ä¸­çš„å…©å€‹ä¸»è¦è§’åº¦ï¼š

---
**åº§æ¨™ç³»å®šç¾©**
- æ¡ç”¨å³æ‰‹åº§æ¨™ç³»ï¼ˆRight-handed Cartesian coordinate systemï¼‰ï¼š
  - `x` è»¸èˆ‡ `y` è»¸åœ¨æ°´å¹³å¹³é¢å…§
  - `z` è»¸å‚ç›´å‘ä¸Š

---

**çƒé¢è§’åº¦å®šç¾©ï¼ˆSpherical Anglesï¼‰**
- **Î¸ï¼ˆThetaï¼‰**ï¼šå¤©é ‚è§’ï¼ˆZenith angleï¼‰
  - å–å€¼ç¯„åœï¼š`0Â° â‰¤ Î¸ â‰¤ 180Â°`
  - Î¸ = 0Â° â†’ æŒ‡å‘å¤©é ‚ï¼ˆå‚ç›´ä¸Šæ–¹ï¼Œæ²¿ z è»¸æ­£æ–¹å‘ï¼‰
  - Î¸ = 90Â° â†’ æŒ‡å‘åœ°å¹³ç·šï¼ˆæ°´å¹³æ–¹å‘ï¼‰

- **Ï†ï¼ˆPhiï¼‰**ï¼šæ–¹ä½è§’ï¼ˆAzimuth angleï¼‰
  - å–å€¼ç¯„åœï¼š`0Â° â‰¤ Ï† < 360Â°`
  - å®šç¾©æ–¼ `x-y` å¹³é¢ä¸­
  - Ï† = 0Â° é€šå¸¸èˆ‡ `x` è»¸å°é½Šï¼Œé€†æ™‚é‡æ–¹å‘å¢åŠ 

---
**å‚³æ’­æ–¹å‘èˆ‡çƒé¢åŸºåº•å‘é‡**

- **nÌ‚ï¼ˆå‚³æ’­æ–¹å‘å–®ä½å‘é‡ï¼‰**ï¼šè¡¨ç¤ºæ³¢çš„å‚³æ’­æ–¹å‘
- ä»¥ nÌ‚ ç‚ºåŸºæº–ï¼Œå®šç¾©çƒé¢åŸºåº•å‘é‡ï¼š
  - **Î¸Ì‚**ï¼šæ²¿å¤©é ‚è§’ Î¸ çš„éå¢æ–¹å‘
  - **Ï†Ì‚**ï¼šæ²¿æ–¹ä½è§’ Ï† çš„éå¢æ–¹å‘ï¼ˆå‚ç›´æ–¼ Î¸Ì‚ï¼‰

---

åœ¨ 3GPP TR 38.901 ä¸­ï¼Œé€™å¥—è§’åº¦å®šç¾©ï¼š
- ç”¨æ–¼è¡¨ç¤ºåˆ°é”è§’ï¼ˆAOAï¼‰èˆ‡é›¢é–‹è§’ï¼ˆAODï¼‰
- é©ç”¨æ–¼å¤©ç·šå ´å‹ã€é€šé“å»ºæ¨¡èˆ‡æ¥µåŒ–è¨ˆç®—ç­‰æ¨¡çµ„
---

**å…¨çƒåº§æ¨™ç³»çµ±ï¼ˆGCSï¼‰ä¸­çš„ç¬¦è™Ÿå®šç¾©**

æœ¬è¡¨æ•´ç†äº†åœ¨ 3GPP é€šé“å»ºæ¨¡ä¸­ï¼Œå…¨çƒåº§æ¨™ç³»çµ±ä¸‹å¸¸è¦‹çš„è§’åº¦èˆ‡å¤©ç·šå ´å‹ç¬¦è™Ÿå°æ‡‰ã€‚

| **åƒæ•¸èªªæ˜** | **ç¬¦è™Ÿï¼ˆNotationï¼‰** |
| ------------ | -------------------- |
| LOS AODï¼ˆLine-of-Sight Departure Azimuthï¼‰ | Ï†<sub>LOS,AOD</sub> |
| LOS AOAï¼ˆLine-of-Sight Arrival Azimuthï¼‰ | Ï†<sub>LOS,AOA</sub> |
| LOS ZODï¼ˆLine-of-Sight Departure Zenithï¼‰ | Î¸<sub>LOS,ZOD</sub> |
| LOS ZOAï¼ˆLine-of-Sight Arrival Zenithï¼‰ | Î¸<sub>LOS,ZOA</sub> |
| AOA for cluster *n* | Ï†<sub>n,AOA</sub> |
| AOD for cluster *n* | Ï†<sub>n,AOD</sub> |
| AOA for ray *m* in cluster *n* | Ï†<sub>n,m,AOA</sub> |
| AOD for ray *m* in cluster *n* | Ï†<sub>n,m,AOD</sub> |
| ZOA for cluster *n* | Î¸<sub>n,ZOA</sub> |
| ZOD for cluster *n* | Î¸<sub>n,ZOD</sub> |
| ZOA for ray *m* in cluster *n* | Î¸<sub>n,m,ZOA</sub> |
| ZOD for ray *m* in cluster *n* | Î¸<sub>n,m,ZOD</sub> |

---

**å¤©ç·šå ´å‹å‘é‡å®šç¾©ï¼ˆAntenna Field Patternsï¼‰**

| **æè¿°** | **ç¬¦è™Ÿ** |
| -------- | -------- |
| æ¥æ”¶å¤©ç·šå…ƒç´  *u* åœ¨æ–¹å‘ $\hat{Î¸}$ ä¸Šçš„å ´å‹ | F<sub>Rx,u,Î¸</sub> |
| æ¥æ”¶å¤©ç·šå…ƒç´  *u* åœ¨æ–¹å‘ $\hat{Ï†}$ ä¸Šçš„å ´å‹ | F<sub>Rx,u,Ï†</sub> |
| ç™¼é€å¤©ç·šå…ƒç´  *s* åœ¨æ–¹å‘ $\hat{Î¸}$ ä¸Šçš„å ´å‹ | F<sub>Tx,s,Î¸</sub> |
| ç™¼é€å¤©ç·šå…ƒç´  *s* åœ¨æ–¹å‘ $\hat{Ï†}$ ä¸Šçš„å ´å‹ | F<sub>Tx,s,Ï†</sub> |

---
- Ï† è¡¨ç¤º **æ–¹ä½è§’ Azimuth**ï¼ŒÎ¸ è¡¨ç¤º **å¤©é ‚è§’ Zenith**
- AOD/ZOA ç‚º **ç™¼å°„ç«¯åƒæ•¸**ï¼ŒAOA/ZOD ç‚º **æ¥æ”¶ç«¯åƒæ•¸**
- ä¸Šè¿°ç¬¦è™Ÿæ‡‰ç”¨æ–¼é€šé“ä¿‚æ•¸è¨ˆç®—ã€å¤©ç·šå¢ç›Šã€æ¥µåŒ–çŸ©é™£ç”Ÿæˆç­‰æ¨¡çµ„ä¸­

## Step 1ï¼šè¨­å®šç’°å¢ƒã€ç¶²è·¯ä½ˆå±€èˆ‡å¤©ç·šé™£åˆ—åƒæ•¸ï¼ˆSet environment, network layout, and antenna array parametersï¼‰

---

### a) é¸æ“‡å ´æ™¯ä¸¦å®šç¾©åº§æ¨™ç³»çµ±

- é¸æ“‡ä¸€å€‹æ¨¡æ“¬å ´æ™¯ï¼ˆScenarioï¼‰ï¼š
  - UMaï¼ˆUrban Macroï¼‰
  - UMiï¼ˆUrban Micro â€“ Street Canyonï¼‰
  - RMaï¼ˆRural Macroï¼‰
  - InH-Office / InFï¼ˆIndoor Office / Factoryï¼‰

- å®šç¾©å…¨çƒåº§æ¨™ç³»çµ±ä¸­çš„è§’åº¦èˆ‡å‘é‡ï¼š
  - å¤©é ‚è§’ï¼ˆZenith angleï¼‰ï¼šÎ¸
  - æ–¹ä½è§’ï¼ˆAzimuth angleï¼‰ï¼šÏ†
  - çƒé¢åŸºåº•å‘é‡ï¼ˆSpherical basis vectorsï¼‰ï¼š $\hat{Î¸}$ $\hat{Ï†}$

æ³¨æ„ï¼šRMa é©ç”¨é »ç‡æœ€é«˜ç‚º 7GHzï¼Œå…¶é¤˜å ´æ™¯æ”¯æ´è‡³ 100GHzã€‚

---

###  b) æŒ‡å®šåŸºåœ°å°ï¼ˆBSï¼‰èˆ‡ç”¨æˆ¶ç«¯ï¼ˆUTï¼‰æ•¸é‡

---

###  c) æŒ‡å®š 3D ä½ç½®èˆ‡ LOS è§’åº¦

- æä¾› BS èˆ‡ UT çš„ä¸‰ç¶­åº§æ¨™ï¼ˆx, y, zï¼‰
- è¨ˆç®—ä¸¦å®šç¾©ä»¥ä¸‹ LOS è§’åº¦ï¼ˆåŸºæ–¼ GCSï¼‰ï¼š
  - LOS AODï¼š $\phi_{LOS,AOD}$
  - LOS ZODï¼š $\theta_{LOS,ZOD}$
  - LOS AOAï¼š $\phi_{LOS,AOA}$
  - LOS ZOAï¼š $\theta_{LOS,ZOA}$

---

### d) æä¾›å¤©ç·šå ´å‹ï¼ˆAntenna Field Patternï¼‰

- åœ¨ GCS ä¸­æŒ‡å®šå¤©ç·šçš„æ–¹å‘æ€§å¢ç›Šå‡½æ•¸ï¼š
  - BS èˆ‡ UT çš„ç™¼å°„/æ¥æ”¶å ´å‹ï¼š
    -  $F_{rx}$ã€ $F_{tx}$

---

### e) é™£åˆ—æœå‘å®šç¾©ï¼ˆArray Orientationï¼‰

- BS é™£åˆ—ç”±ä¸‰å€‹è§’åº¦å®šç¾©ï¼š
  - $\Omega_{BS,\alpha}$ï¼šBS æ–¹ä½è§’ï¼ˆBearing angleï¼‰
  - $\Omega_{BS,\beta}$ï¼šBS ä¸‹å‚¾è§’ï¼ˆDowntilt angleï¼‰
  - $\Omega_{BS,\gamma}$ï¼šBS å‚¾æ–œè§’ï¼ˆSlant angleï¼‰

- UT é™£åˆ—ç”±ä¸‰å€‹è§’åº¦å®šç¾©ï¼š
  - $\Omega_{UT,\alpha}$ï¼šUT æ–¹ä½è§’
  - $\Omega_{UT,\beta}$ï¼šUT ä¸‹å‚¾è§’
  - $\Omega_{UT,\gamma}$ï¼šUT å‚¾æ–œè§’

---

### f) å®šç¾©ä½¿ç”¨è€…ç§»å‹•é€Ÿåº¦èˆ‡æ–¹å‘

- æŒ‡å®š UT çš„ç§»å‹•é€Ÿåº¦èˆ‡æ–¹å‘ï¼ˆåŸºæ–¼ GCSï¼‰

---

### g) æŒ‡å®šç³»çµ±ä¸­å¿ƒé »ç‡èˆ‡é »å¯¬

- ä¸­å¿ƒé »ç‡ï¼š $f_c$
- é »å¯¬ï¼š $B$

---

## Step 2ï¼šæŒ‡æ´¾å‚³æ’­æ¢ä»¶ï¼ˆAssign propagation conditionï¼‰

- æ ¹æ“š **Table 7.4.2-1(page 30)** æŒ‡å®šæ¯å€‹ BS-UT link çš„ **LOS æˆ– NLOS** ç‹€æ…‹
- æ¯æ¢ BS-UT link çš„ LOS ç‹€æ…‹äº’ä¸ç›¸é—œï¼ˆUncorrelatedï¼‰
- ç‚ºæ¯å€‹ UT æŒ‡å®š **å®¤å…§æˆ–å®¤å¤–ç‹€æ…‹**ï¼ˆIndoor/Outdoorï¼‰
  > åŒä¸€å€‹ UT æ‰€æœ‰ link çš„å®¤å…§/å®¤å¤–ç‹€æ…‹ç›¸åŒ

---

## Step 3ï¼šè¨ˆç®—è·¯å¾‘æè€—ï¼ˆPathlossï¼‰

- ä½¿ç”¨ **Table 7.4.1-1(page27~29)** çš„å…¬å¼ï¼Œæ ¹æ“šå ´æ™¯èˆ‡ link é¡å‹è¨ˆç®— pathloss

---

## Step 4ï¼šç”Ÿæˆå¤§å°ºåº¦åƒæ•¸ï¼ˆLarge Scale Parameters, LSPsï¼‰

- éœ€ç”¢ç”Ÿä»¥ä¸‹åƒæ•¸ï¼š
  - **DS**ï¼šDelay Spread
  - **ASD** / **ASA**ï¼šAzimuth Spread of Departure/Arrival
  - **ZSD** / **ZSA**ï¼šZenith Spread of Departure/Arrival
  - **K**ï¼šRicean K-factorï¼ˆåƒ… LOSï¼‰
  - **SF**ï¼šShadow Fading

- ç”¢ç”Ÿæ–¹å¼ï¼š
  - åƒç…§ **Table 7.5-6** ä¸­çš„å‡å€¼ã€æ¨™æº–å·®èˆ‡äº¤å‰é—œè¯ï¼ˆCross-Correlationï¼‰çŸ©é™£
  - ä½¿ç”¨ **Cholesky åˆ†è§£** å–å¾—æ–¹æ ¹çŸ©é™£ $\sqrt{C_{MÃ—M}}(0)$
  - å°æ‡‰çš„åƒæ•¸å‘é‡æ’åºç‚ºï¼š

    ```
    s_M = [SSF, SK, SDS, SASD, SASA, SZSD, SZSA]^T
    ```

> ä¸åŒ BS-UT link çš„ LSP æ˜¯ **ä¸ç›¸é—œçš„**ï¼ˆUncorrelatedï¼‰  
> ä½†ä¾†è‡ªåŒä¸€æ‰‡å€ï¼ˆco-sited sectorsï¼‰åˆ°åŒä¸€ UT çš„ LSP æ˜¯ç›¸åŒçš„  
> ä¸åŒæ¨“å±¤ä¹‹é–“çš„ UT link LSP ä¹Ÿè¦–ç‚ºä¸ç›¸é—œ

---
## Step 5ï¼šç”¢ç”Ÿ Cluster Delaysï¼ˆç¾¤çµ„å»¶é² Ï„â‚™ï¼‰
### å»¶é²ç”Ÿæˆæ­¥é©Ÿ
å»¶é²å€¼æ ¹æ“šæŒ‡æ•¸åˆ†å¸ƒéš¨æ©Ÿç”¢ç”Ÿï¼Œè¨ˆç®—æ–¹å¼å¦‚ä¸‹ï¼š
![image](https://github.com/user-attachments/assets/ce8249ef-ddd6-478c-b2c5-d062d1fe94f8)

### å»¶é²æ­£è¦åŒ–èˆ‡æ’åº
å»¶é²æ­£è¦åŒ–èˆ‡æ’åºæ­¥é©Ÿå¦‚ä¸‹ï¼š
![image](https://github.com/user-attachments/assets/7d26ee58-0e32-4ef6-a8cb-44c13f422412)

### LOS æƒ…æ³ä¸‹å»¶é²ç¸®æ”¾
è‹¥ link ç‚º **LOS**ï¼Œéœ€è£œå„Ÿ LOS peak å°å»¶é²å±•å¸ƒçš„å½±éŸ¿ï¼Œä½¿ç”¨ç¶“é©—å…¬å¼ç¸®æ”¾ï¼š
![image](https://github.com/user-attachments/assets/cd656923-db34-404f-9145-9327069fe056)
where K [dB] is the Ricean K-factor

### å°‡å»¶é²ç¸®æ”¾
![image](https://github.com/user-attachments/assets/84e43009-782a-4fb7-8f64-6e6b4a0a1652)




**LOS ç¸®æ”¾å¾Œçš„å»¶é²ä¸å¯ç”¨æ–¼å¾ŒçºŒçš„ cluster power è¨ˆç®—ã€‚**


